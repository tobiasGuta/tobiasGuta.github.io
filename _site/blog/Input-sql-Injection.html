<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>When Input Becomes Injection</title>

    <!-- Favicon links -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="/favicon_io/site.webmanifest">

    <!-- Toast UI Editor CSS -->
    <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- Your custom CSS (adjust path as needed) -->
    <link rel="stylesheet" href="/assets/style.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <!-- GitHub Markdown CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css" />
    <link rel="stylesheet" href="/assets/style.css" />

    <!-- Terminal styles -->

    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">

    
    <style>
      body {
        overflow-x: hidden;
      }

      /* Zoomable image styles */
      .zoomable-img {
        transition: transform 0.3s ease;
        cursor: pointer;
      }

      .zoomable-img.zoomed {
        transform: scale(2);
        z-index: 10000;
      }

      /* Optional: Style for body when zoomed */
      .zoom-active {
        overflow: hidden;
      }

      /* Social Media Icons */
      .social-icons {
        display: flex;
        justify-content: center;
        align-items: baseline; /* Align icons to baseline */
        gap: 1.5rem;
        margin: 1rem 0;
      }

      .social-icons a {
        font-size: 2em;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: #000 !important;
        background: none;
        border-radius: 0;
        text-decoration: none;
        transition: color 0.2s;
        width: 1em;
        height: 1em;
      }

      .social-icons a:hover img {
        /* This filter makes the icon blue on hover */
        filter: invert(33%) sepia(98%) saturate(7496%) hue-rotate(222deg) brightness(97%) contrast(101%);
      }

      .social-icons i,
      .social-icons img {
        width: 1em;
        height: 1em;
        vertical-align: middle;
        object-fit: contain;
      }

      .social-icons img {
        display: inline-block;
        position: relative;
        top: 0.12em; /* Move HackerOne and Mastodon icons down slightly */
      }

      /* Exception for HackerOne and Mastodon (icons should be white) */
      .social-icons a[aria-label="HackerOne"] img,
      .social-icons a[aria-label="Mastodon"] img {
        filter: invert(1);
      }

      .social-icons i {
        margin-top: -0.15em; /* Move LinkedIn and GitHub icons up just a little */
      }
    </style>
  </head>
  <body class="">

    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">
      <i class="bi bi-briefcase-fill" style="color:white; margin-right: 8px;"></i> Portfolio
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link " href="/">
            <i class="bi bi-house-door-fill"></i> Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/posts">
            <i class="bi bi-journal-text"></i> Blog
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/projects">
            <i class="bi bi-kanban-fill"></i> Projects
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/certificates">
            <i class="bi bi-award-fill"></i> Certificates
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/contact">
            <i class="bi bi-envelope-fill"></i> Contact Me
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <main class="container py-5">
      
<!-- Normal post view -->
<div id="scroll-progress-container">
  <div id="scroll-progress-bar"></div>
</div>
<div class="post-page">
  <article class="post-container px-4 py-5 mx-auto max-w-4xl text-gray-100">
    <header class="mb-4 border-b border-gray-600 pb-3">
      <h1 class="text-3xl font-bold glitch-header" data-value="When Input Becomes Injection" style="font-family: 'Press Start 2P', monospace; line-height: 1.4; font-size: 24px;">When Input Becomes Injection</h1>
      
      <p class="text-sm text-gray-400" style="font-family: 'Press Start 2P', monospace; font-size: 10px; line-height: 1.5;">
        October 18, 2025
      </p>

      
        <div class="categories mt-3 mb-2">
          <span class="text-gray-400 text-sm font-medium" style="font-family: 'Press Start 2P', monospace; font-size: 10px;">Categories: </span>
          
            <span class="inline-block bg-gradient-to-r from-blue-600 to-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium mr-2 mb-1 hover:from-blue-500 hover:to-blue-400 transition-all duration-200 shadow-sm" style="font-family: 'Press Start 2P', monospace; font-size: 8px; padding: 6px 12px;">
              My-research
            </span>
          
        </div>
      
    </header>

    
      <div class="post-header-image">
        <img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*dU101LJckdGykTOw0K0q6w.jpeg" alt="When Input Becomes Injection cover image" />
      </div>
    

    <section class="post-content prose prose-invert max-w-none text-gray-300" style="font-family: 'Fira Code', monospace; line-height: 1.8; font-size: 16px;">
      <p>Developers should never trust user input. Even when you think you’ve sanitized everything and even when you’re using the familiar ? placeholder in Node.js MySQL libraries mistakes and wrong assumptions can still leave your app vulnerable.</p>

<p>A few essential points:</p>
<ul>
  <li>? placeholders protect values, not SQL structure. They safely substitute data values, but they do not and cannot be used for identifiers, SQL keywords, or fragments you build by string concatenation. If you concatenate table names, column names, ORDER BY clauses, or entire SQL snippets with user input, a placeholder won’t help.</li>
  <li>Misusing escaping, trusting client-side validation, or doing shallow sanitization (like stripping a few characters) can be bypassed. There are second‑order injections (stored malicious input executed later), encoding tricks, and edge cases with JSON and binary data.</li>
  <li>The typical Node.js + MySQL pitfalls: building queries with template strings, using unvalidated inputs for identifiers, relying on naive input filters, or assuming middleware has already made the input safe.</li>
</ul>

<h1 id="endpoints">Endpoints</h1>

<ul>
  <li>api/v1/users/filter?name=</li>
  <li>api/v1/blogs/filter</li>
  <li>api/v1/blogs/filter?author=</li>
</ul>

<h1 id="walkthrough">Walkthrough</h1>

<p>We are logged in as Alice.</p>

<p>If we visit this endpoint <code class="language-plaintext highlighter-rouge">api/v1/blogs/filter</code>:</p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*uM1aaR5nAaYZVRDaDdoO4g.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>If we use something like <code class="language-plaintext highlighter-rouge">api/v1/blogs/filter?author=</code> from any author for example <code class="language-plaintext highlighter-rouge">Alice</code> or <code class="language-plaintext highlighter-rouge">Bob</code> we make a request like:</p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*MTciSW3EYcb9t_Kz8uEpxg.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*6gX220WzN39JzKvsAged5A.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>But let’s say we have another endpoint <code class="language-plaintext highlighter-rouge">api/v1/users/filter?name=</code>. Remember we are logged in as Alice, so our request would be:</p>

<p><code class="language-plaintext highlighter-rouge">api/v1/users/filter?name=Alice</code> as shown below</p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*MPqXu-D6n5xzQN-LDPvVYg.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>Our SQL request would look like this :</p>

<div class="code-block-container">
  <span class="code-lang-tag">SQL</span>
  <button class="copy-btn" onclick="copyCode(this)" title="Copy code">
    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" fill="none" />
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
    </svg>
  </button>
  
  <pre><code class="Terminal">
Built users query: SELECT * FROM users WHERE name=? Data: [ 'Alice' ]
</code></pre>
  
</div>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*poI5wofBAtxklzkFPFRa4Q.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>What if we try to access Bob’s information?</p>

<p>We can’t, we get <code class="language-plaintext highlighter-rouge">Unauthorized</code>.</p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*5cFnvj_tbv2uiM9Bi6qj8A.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>What if we change the <code class="language-plaintext highlighter-rouge">name</code> parameter to something different, for example: <code class="language-plaintext highlighter-rouge">api/v1/users/filter?foo=bar</code></p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*Aie8ldbkzioHPkWkdupF7A.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<div class="code-block-container">
  <span class="code-lang-tag">SQL</span>
  <button class="copy-btn" onclick="copyCode(this)" title="Copy code">
    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" fill="none" />
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
    </svg>
  </button>
  
  <pre><code class="Terminal">
Server running on port 3000
Built users query: SELECT * FROM users WHERE name=? Data: [ 'Alice' ]
Built users query: SELECT * FROM users WHERE foo=? Data: [ 'bar' ]
</code></pre>
  
</div>

<p>We were able to modify the query as you can see above. That means there is a potential for SQL injection for example, to make a condition always true one common payload is <code class="language-plaintext highlighter-rouge">OR 1=1</code>. First, let’s explore more: what if we sent something like <code class="language-plaintext highlighter-rouge">api/v1/users/filter?name%20bar=bar</code></p>

<div class="code-block-container">
  <span class="code-lang-tag">SQL</span>
  <button class="copy-btn" onclick="copyCode(this)" title="Copy code">
    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" fill="none" />
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
    </svg>
  </button>
  
  <pre><code class="Terminal">
Server running on port 3000
Built users query: SELECT * FROM users WHERE name=? Data: [ 'Alice' ]
Built users query: SELECT * FROM users WHERE foo=? Data: [ 'bar' ]
Built users query: SELECT * FROM users WHERE name bar=? Data: [ 'bar' ]
</code></pre>
  
</div>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*QiCtNtqdXA8qWK9EOhSWFg.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p>We fully controlled the query, which means if we sent something like <code class="language-plaintext highlighter-rouge">OR 1=1</code> it could return true and dump information:</p>

<div class="code-block-container">
  <span class="code-lang-tag">SQL</span>
  <button class="copy-btn" onclick="copyCode(this)" title="Copy code">
    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" fill="none" />
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
    </svg>
  </button>
  
  <pre><code class="Terminal">
Server running on port 3000
Built users query: SELECT * FROM users WHERE name=? Data: [ 'Alice' ]
Built users query: SELECT * FROM users WHERE foo=? Data: [ 'bar' ]
Built users query: SELECT * FROM users WHERE name bar=? Data: [ 'bar' ]
Built users query: SELECT * FROM users WHERE name OR 1=? Data: [ '1' ]
</code></pre>
  
</div>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*2VBZH3qBIWy84CnSYSCZ2A.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<p><img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*9_j_ru2wAij9w4kqY5obwQ.png" alt="Website initial view" class="zoomable-img" style="border: 2px solid #ccc; border-radius: 10px; cursor: zoom-in;" /></p>

<h1 id="quick-mitigations-and-takeaways">Quick mitigations and takeaways</h1>

<ul>
  <li>Always use parameterized queries / prepared statements for data values.</li>
  <li>Never inject user input into SQL structure (identifiers, keywords, clause fragments). If you must vary structure, use strict whitelists or server-side mappings.</li>
  <li>Validate and coerce types server-side (numbers, enums, ranges) instead of relying on shallow string sanitization or client-side checks.</li>
  <li>Apply least privilege for database accounts and avoid exposing powerful permissions to the application user.</li>
  <li>Log unexpected input and monitor query patterns to detect abuse or probing.</li>
  <li>Defense in depth: input validation, prepared statements, minimal DB permissions, and runtime monitoring.</li>
</ul>

    </section>

    <footer class="mt-8 text-sm text-gray-400 flex justify-center">
      <a href="/posts" class="btn btn-back btn-back-bottom">
        <span style="font-size:1.2em; margin-right:0.5em;">&#8592;</span> Blog Home
      </a>
    </footer>
  </article>
</div>

<!-- FINAL CSS OVERRIDE - LOADED LAST TO WIN SPECIFICITY WAR -->
<style>
/* === IMPRESSIVE FEATURES CSS === */

/* 1. Scroll Progress Bar */
#scroll-progress-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: transparent;
  z-index: 9999;
}

#scroll-progress-bar {
  height: 100%;
  background: var(--dracula-pink);
  width: 0%;
  box-shadow: 0 0 10px var(--dracula-pink), 0 0 20px var(--dracula-purple);
  transition: width 0.1s;
}

/* 3. Glitch Header Effect */
.glitch-header {
  position: relative;
}

.glitch-header:hover {
  color: var(--dracula-cyan);
  text-shadow: 2px 0 var(--dracula-pink), -2px 0 var(--dracula-green);
}
</style>

<script>
/* === IMPRESSIVE FEATURES JS === */

document.addEventListener('DOMContentLoaded', function() {
  
  // 1. Scroll Progress Bar Logic
  window.addEventListener('scroll', function() {
    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    const progressBar = document.getElementById("scroll-progress-bar");
    if(progressBar) {
      progressBar.style.width = scrolled + "%";
    }
  });

  // 2. Hacker Text Scramble Effect for Title
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#$%^&*";
  const header = document.querySelector(".glitch-header");
  
  if(header) {
    let interval = null;
    
    // Run once on load
    scrambleText(header);
    
    // Run on hover
    header.onmouseover = event => {  
      scrambleText(event.target);
    };
    
    function scrambleText(target) {
      let iteration = 0;
      clearInterval(interval);
      
      const originalText = target.dataset.value;
      
      interval = setInterval(() => {
        target.innerText = originalText
          .split("")
          .map((letter, index) => {
            if(index < iteration) {
              return originalText[index];
            }
            return letters[Math.floor(Math.random() * 26)];
          })
          .join("");
        
        if(iteration >= originalText.length) { 
          clearInterval(interval);
        }
        
        iteration += 1 / 3;
      }, 30);
    }
  }

});
</script>




      
        
          <!-- Giscus comments - Only show for unlocked posts -->
          <div id="comments"></div>
          <script src="https://giscus.app/client.js"
                  data-repo="tobiasGuta/tobiasGuta.github.io"
                  data-repo-id="R_kgDOOxswYQ"
                  data-category="General"
                  data-category-id="DIC_kwDOOxswYc4CrEhp"
                  data-mapping="pathname"
                  data-strict="0"
                  data-reactions-enabled="1"
                  data-emit-metadata="0"
                  data-input-position="bottom"
                  data-theme="transparent_dark"
                  data-lang="en"
                  data-loading="lazy"
                  crossorigin="anonymous"
                  async>
          </script>
        
      
    </main>

    

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <!-- Typing animation script -->
    <script>
      const text = "I’m a cybersecurity student and bug bounty hunter focused on penetration testing, web exploitation, and offensive security. Passionate about AI’s role in threat detection, I thrive on solving complex security challenges and staying ahead of emerging threats. I'm actively seeking internships, research roles, and opportunities to grow within the cybersecurity community.";
      const typedText = document.getElementById("typed-text");
      const cursor = document.getElementById("cursor");
      let i = 0;

      function type() {
        if (i < text.length) {
          typedText.textContent += text.charAt(i);
          i++;
          setTimeout(type, 25);
        }
      }

      document.addEventListener("DOMContentLoaded", type);
    </script>

    <!-- Copy code button script -->
    <script>
      function copyCode(button) {
        const codeBlock = button.parentElement.querySelector('pre code');
        const text = codeBlock.textContent;
        
        navigator.clipboard.writeText(text).then(() => {
          // Store original content
          const originalHTML = button.innerHTML;
          
          // Add copied class for styling
          button.classList.add('copied');
          
          // Change to checkmark icon
          button.innerHTML = `
            <svg class="checkmark-icon" viewBox="0 0 24 24">
              <polyline points="20,6 9,17 4,12"></polyline>
            </svg>
          `;
          
          // Reset after 1.5 seconds
          setTimeout(() => {
            button.classList.remove('copied');
            button.innerHTML = originalHTML;
          }, 1500);
        }).catch(err => {
          console.error('Failed to copy: ', err);
          // Show error state
          const originalHTML = button.innerHTML;
          button.style.background = '#ef4444';
          button.innerHTML = '✗';
          setTimeout(() => {
            button.innerHTML = originalHTML;
            button.style.background = '';
          }, 1000);
        });
      }
    </script>

    

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.zoomable-img').forEach(function(img) {
    img.addEventListener('click', function(e) {
      e.stopPropagation(); // Prevent bubbling
      if (img.classList.contains('zoomed')) {
        img.classList.remove('zoomed');
        document.body.classList.remove('zoom-active');
        if (document.fullscreenElement) {
          document.exitFullscreen();
        }
      } else {
        document.querySelectorAll('.zoomable-img.zoomed').forEach(function(other) {
          other.classList.remove('zoomed');
        });
        img.classList.add('zoomed');
        document.body.classList.add('zoom-active');

        // Try to go fullscreen
        if (img.requestFullscreen) {
          img.requestFullscreen().catch(err => {
            console.error(`Error attempting to enable fullscreen mode: ${err.message}`);
          });
        } else if (img.webkitRequestFullscreen) { // Safari
          img.webkitRequestFullscreen();
        } else if (img.msRequestFullscreen) { // IE11
          img.msRequestFullscreen();
        }
      }
    });
  });

  document.addEventListener('click', function(e) {
    document.querySelectorAll('.zoomable-img.zoomed').forEach(function(img) {
      img.classList.remove('zoomed');
    });
    document.body.classList.remove('zoom-active');
    if (document.fullscreenElement) {
      document.exitFullscreen();
    }
  });

  // Escape key exits zoom
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      document.querySelectorAll('.zoomable-img.zoomed').forEach(function(img) {
        img.classList.remove('zoomed');
      });
      document.body.classList.remove('zoom-active');
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
    }
  });
});
</script>
    
  </body>
</html>
